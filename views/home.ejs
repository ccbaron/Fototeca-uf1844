<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fototeca</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
  <link rel="stylesheet" href="/styles.css">
</head>

<body>
  <%- include('./partials/navbar') %>

    <main class="container">
      <h2>Galería de Animales Salvajes</h2>

      <% if(images.length===0) { %>
        <article>
          <p>Todavía no hay imágenes en tu galería.</p>
          <p>¡Añade una ahora desde el menú!</p>
        </article>
        <% } else { %>
          <p>Tu galería tiene <strong>
              <%= images.length %>
            </strong> imagen<%= images.length> 1 ? 'es' : '' %>.</p>

          <section class="grid">
            <% images.forEach(function(i) { %>
              <article>
                <img src="<%= i.url %>" alt="<%= i.title %>" style="max-width: 100%; border-radius: 10px;">
                <h3>
                  <%= i.title %>
                </h3>

                <% if (i.description) { %>
                  <p style="font-style: italic; color: #666; margin-top: -0.5rem;">
                    <%= i.description %>
                  </p>
                  <% } %>

                    <p>
                      <%= i.date %>
                    </p>
                    <% if (i.colors && i.colors.length> 0) { %>
                      <div style="margin-top: 0.5rem; display: flex; justify-content: center; gap: 1rem;">
                        <% i.colors.forEach(function(color) { %>
                          <div style="display: flex; flex-direction: column; align-items: center; gap: 0.2rem;">
                            <div
                              style="width: 40px; height: 40px; border-radius: 50%; background-color: <%= color %>; border: 1px solid #333;">
                            </div>
                            <p style="font-size: 0.8em; margin: 0;">
                              <%= color %>
                            </p>
                          </div>
                          <% }); %>
                      </div>
                      <% } %>
              </article>
              <% }); %>
          </section>
          <% } %>
    </main>